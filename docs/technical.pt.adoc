= Fibonacci App: Documento técnico
:icons: font
:numbered:
:toc-title: Conteúdo
// PDF specific
ifdef::backend-pdf[]
:toc: macro
endif::[]
// HTML specific
ifdef::backend-html5[]
:toc: macro
:nofooter:
:stem: latexmath
endif::[]
// GitHub specific
ifdef::env-github[]
endif::[]

// URIs
:uri-app: https://finisher.tech/fibonacci-app
:uri-app-github: https://github.com/finishertech/fibonacci-app
:uri-app-github-license: https://github.com/finishertech/fibonacci-app/blob/main/LICENSE
:uri-app-github-gh-pages: https://github.com/finishertech/fibonacci-app/tree/gh-pages
:uri-app-github-docs-build: https://github.com/finishertech/fibonacci-app/blob/main/docs/build.sh
:uri-paulojeronimo: https://paulojeronimo.com
:uri-paulojeronimo-youtube-fibonacci: https://www.youtube.com/playlist?list=PL3jVhh9mXmz_-Jvmt-dUK1gEs2u46B5SM
:uri-paulojeronimo-asciidoc: https://paulojeronimo.com/asciidoc-e-asciidoctor
:uri-paulojeronimo-blockchain: https://www.youtube.com/playlist?list=PL3jVhh9mXmz_FvGpXNvAydlg_vxVaJj1V
:uri-paulojeronimo-ethereum: https://www.youtube.com/playlist?list=PL3jVhh9mXmz8KSba2NOENx_8qb58Ws7hr
:uri-finishertech: https://finisher.tech
:uri-finishertech-mentoria: https://finisher.tech/mentoria.pdf
:uri-cra: https://create-react-app.dev/
:uri-jest: https://jestjs.io/
:uri-finishertech-youtube: https://www.youtube.com/channel/UCF_zVOdsT2X4nWVm2h-otVA/
:uri-saudeecripto-youtube: https://www.youtube.com/channel/UCd6n5bW_EZzBP0L8D6OcAow/
:uri-react: https://reactjs.org
:uri-react-hooks: https://reactjs.org/docs/hooks-intro.html
:uri-react-router: https://reactrouterdotcom.fly.dev/
:uri-css-grid-layout: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout
:uri-react-i18next: https://react.i18next.com/
:uri-css-custom-properties: https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties
:uri-github-pages: https://pages.github.com/
:uri-react-device-detect: https://github.com/duskload/react-device-detect
:uri-gh-pages-npm: https://www.npmjs.com/package/gh-pages
:uri-asciidoctor: https://asciidoctor.org/
:uri-docker: https://www.docker.com/
:uri-styled-components: https://styled-components.com/
:uri-viacep: https://viacep.com.br/
:uri-p5js: https://p5js.org/
:uri-d3js: https://d3js.org/
:uri-katex: https://katex.org
:uri-react-katex: https://github.com/MatejBransky/react-katex
:uri-firebase: https://firebase.google.com/
:uri-supabase: https://supabase.com/

// Attributes
:PauloJeronimo: {uri-paulojeronimo}[Paulo Jerônimo^]
:FinisherTech: {uri-finishertech}[Finisher.Tech^]
:serieDeFibonacci: <<serie-de-fibonacci,série de Fibonacci>>
:repositorio-publico: {uri-app-github}[repositório público^]
:mentorados: {uri-finishertech-mentoria}[mentorados^]

// Text starts here
*O aplicativo web "{uri-app}[Fibonacci App^]", desenvolvido por
{PauloJeronimo}, tem o intuito de apresentar a {serieDeFibonacci} (e
operações que fazem uso de seus números) para o público alvo da
{uri-finishertech-mentoria}[mentoria da startup Finisher.Tech^], de uma
forma programável (em <<javascript-e-react,JavaScript e React>>)*.
<<detalhes-tecnicos>> de programação, colocados em prática no dia a dia
da construção de aplicativos dessa startup, são apresentados nesse
aplicativo.

[.text-center]
Este documento que você está lendo foi gerado em {localdate}. +
Seu código fonte talvez já esteja mais atualizado e disponível
{uri-app-github}[neste link^].

ifdef::backend-html5,backend-pdf[]
toc::[]
endif::[]

[[serie-de-fibonacci]]
== A série de Fibonacci

É esta série de números aqui:

[.text-center]
*0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...*

Matematicamente, ela é representada por essa função recursiva:

ifdef::backend-html5[]
ifndef::env-github[]
[.text-center]
stem:[
\begin{aligned}
f(x)=\begin{cases}
x & x = 0, 1\\
f(x -2) + f(x - 1) & x > 1\\
\end{cases}
\end{aligned}
]
endif::[]
endif::[]
ifdef::backend-pdf,env-github[]
image::fibonacci.svg[align="center",pdfwidth=50%]
endif::[]

Aqui está uma {uri-paulojeronimo-youtube-fibonacci}[playlist com vídeos
muito interessantes^] que explicam a aplicação desta série em diversas
áreas.

<<<
== Licença e código fonte

*{uri-app-github}[O aplicativo "Fibonacci App" é _open source_] e
distribuído sob a*
ifdef::env-github[]
*link:../LICENSE[licença MIT].*
endif::[]
ifdef::backend-html5,backend-pdf[]
ifndef::env-github[]
*{uri-app-github-license}[licença MIT^].*
endif::[]
endif::[]
Seu *código fonte está inteiramente disponível* em dois repositórios
Git: um completo (e privado) e outro público.

[[repo-completo]]
O repositório completo: ::
É utilizado pelos desenvolvedores e {mentorados} da {FinisherTech}.
Nele estão os *commits mais granulares* realizados nessa aplicação.
Contudo, tanto esse repositório quanto o público contemplam os
<<detalhes-tecnicos>> descritos abaixo. +
Essa é uma das formas usadas pela startup para _atrair desenvolvedores
interessados em seus projetos_ de forma que eles entrem para sua equipe.
Esse repositório completo inclui, também, _branches_ com alternativas
de soluções ou algoritmos.

[[repo-publico]]
O {repositorio-publico} ({uri-app-github}): ::
*Contempla commits menos granulares* que talvez sejam (ou serão)
explicados em vídeos disponíveis nos canais
{uri-finishertech-youtube}[Finisher.Tech^] e
{uri-saudeecripto-youtube}[Saúde e Cripto] no YouTube.

Veja a <<todo,lista das funcionalidades>> que serão disponibilizadas em
próximos commits no {repositorio-publico} dessa aplicação.

<<<
[[detalhes-tecnicos]]
== Detalhes Técnicos

Estes são os assuntos cobertos durante a construção {uri-app}[dessa
aplicação^] e que já estão disponíveis em commits disponíveis em seu
{repositorio-publico}:

. Construção e otimização de algoritmos:
.. Implementação não recursiva da {serieDeFibonacci}.
... Várias outras implementações (recursivas ou não) estão
<<repo-completo,repositório completo>>.
.. Busca dos números de Fibonacci que são anterior ou posterior a um
número qualquer.
. [[javascript-e-react]] Desenvolvimento em *JavaScript e
  {uri-react}[React^]*:
.. Inicialização do projeto: utilizando o {uri-cra}[Create React App^]
  (CRA).
.. Organização estruturada das pastas do projeto.
.. Implementação utilizando _Test Driven Development_ (TDD) e
{uri-jest}[Jest^].
.. Codificação de _design_ responsivo e uso de {uri-css-grid-layout}[CSS
Grid Layout^].
.. Codificação de páginas e componentes em React.
.. Uso de {uri-react-hooks}[React Hooks^]: _useState_,
_useEffect_, _useCallback_, _useMemo_, etc.
.. Uso do {uri-react-router}[React Router^] (em sua versão 6).
.. Uso do {uri-react-device-detect}[react-device-detect^] para detecção
de dispositivos e adequação desse app a dispositivos móveis.
.. Internacionalização utilizando o {uri-react-i18next}[react-i18next^].
.. Seleção de temas (_Light_ ou _Dark_) através de ajuste dinâmico de
  {uri-css-custom-properties}[CSS Custom Properties^].
.. Criação de componentes específicos para separar as funcionalidades de
internacionalização e de seleção de tema.
.. Desenho da função Fibonacci usando o {uri-katex}[Katex^] e
{uri-react-katex}[react-katex^].
. Deploy em produção:
.. Feito no {uri-github-pages}[GitHub Pages^] através do _package_
{uri-gh-pages-npm}[gh-pages].
. Documentação:
.. {uri-paulojeronimo-asciidoc}[No formato AsciiDoc^].
.. {uri-app-github-docs-build}[Build^] através de Bash,
{uri-asciidoctor}[Asciidoctor^] e {uri-docker}[Docker].
.. Ajustada para a visualização em diferentes formatos (HTML, PDF) e no
ambiente do GitHub (`env-github`).

<<<
[[execucao-local]]
== Execução Local

....
$ npm install
$ npm start
....

[[deploy-gh-pages]]
== Deploy no GitHub Pages

....
$ npm run deploy
....

WARNING: Esse procedimento só será executado com sucesso se você possuir
permissão para alterar a {uri-app-github-gh-pages}[branch gh-pages^] da
aplicação!

<<<
[[todo]]
== TODO

* *_Refactorings_*:
** +++<del>+++Separar os componentes em `FibonacciNumbers.js` em
diferentes arquivos e utilizar o _useContext_+++</del>+++ (_Feito_).
** Utilizar o {uri-styled-components}[Styled Components].
** Melhorar o _design_ do frontend (estilização no geral).

* *Novas funcionalidades*:
** Salvar os números de Fibonacci que uma pessoa utiliza em um _backend_
({uri-firebase}[Firebase] ou {uri-supabase}[Supabase]) que estará
acessível (para leitura) para todos.
*** Possibilitar a pesquisa dos números Fibonacci registrados por um
usuário específico.
*** Um usuário não poderá editar as descrições associadas a números
cadastros por outros usuários.
** Desenhar a espiral de Fibonacci (com o {uri-p5js}[p5.js] ou o
{uri-d3js}[d3.js]) conforme a navegação do usuário pelos números da
série na página Numbers.
*** Esse desenho deverá ser interativo (obedecendo a navegação do
usuário nos números da série).
** Possibilitar que o usuário se registre utilizando seu email ou
telefone.
*** Se o usuário for brasileiro e informar um CEP, o aplicativo
consulará o {uri-viacep}[ViaCEP] para auxiliar o usuário a entrar com
seu endereço completo.
** Exigir o login do usuário para que ele possa registrar seus números.
*** Utilizar JWT para autenticação do usuário e, também, OAuth para
possibilitar login social.
** Acrescenter algumas rotas externas (ou que estejam em `/public`).
Exemplos:
*** `{uri-app}/public/technical.pt.html` <- deve
enviar o usuário para a página `technical.pt.html` localizado na pasta
`public` junto aos fontes do projeto. Da mesma forma,
{uri-app}/public/xpto.json deve
possibilitar o browser apresentar esse arquivo, caso ele exista na pasta
`public`.
*** {uri-app}/github <- deve redirecionar o
usuário para o {repositorio-publico}.
** *_Premium_ (para os {mentorados})*:
*** Versão que altera o _backend_ para uso da
{uri-paulojeronimo-blockchain}[Blockchain] do
{uri-paulojeronimo-ethereum}[Ethereum].

* *Bugs conhecidos:*
** Ao se efetuar uma troca da linguagem é possível notar que o botão
que indica qual o fator de incremento/decremento não troca de vírgula
para ponto (ou vice-versa).
